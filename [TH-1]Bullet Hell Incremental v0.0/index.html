<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[TH-1]Bullet Hell Incremental v0.0</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div id="game-container">
        <canvas id="game-canvas" width="800" height="600"></canvas>

        <!-- 主菜单界面 -->
        <div id="main-menu" class="screen">
            <h1>弹幕增量</h1>
            <div class="btn-container">
                <button id="start-btn" class="btn">开始</button>
                <button id="upgrade-btn" class="btn">升级</button>
                <button id="help-btn" class="btn">帮助</button>
                <button id="settings-btn" class="btn">设置</button>
            </div>
        </div>

        <!-- 关卡选择界面 -->
        <div id="level-select" class="screen hidden">
            <h1>选择关卡</h1>
            <div class="level-container" id="level-buttons-container"></div>
            <button id="back-to-main" class="btn">返回</button>
        </div>

        <!-- 游戏界面 -->
        <div id="game-screen" class="screen hidden">

            <!-- 右侧状态面板 -->
            <div id="right-panel">
                <div class="panel-section">
                    <h3>游戏状态</h3>
                    <div class="stat-item">
                        <span class="stat-label">积分:</span>
                        <span class="stat-value" id="current-score">0</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">HP:</span>
                        <span class="stat-value" id="hp-display">10/10</span>
                        <div class="health-bar">
                            <div class="health-fill" id="health-fill"></div>
                        </div>
                    </div>
                </div>

                <div class="panel-section">
                    <div class="stat-item">
                        <span class="stat-label">关卡:</span>
                        <span class="stat-value" id="level-display">1</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-value" id="wave-display">1/6</span>
                    </div>
                </div>
            </div>

        </div>
        <div id="pause-overlay" class="screen hidden" style="background: rgba(0,0,0,0.7);">
            <h1>游戏暂停</h1>
            <p class="subtitle">按空格键继续游戏</p>
            <button id="quit-game" class="btn">退出游戏</button>
        </div>

        <!-- 属性升级界面 -->
        <div id="upgrade-screen" class="screen hidden">
            <h1>属性升级</h1>
            <p class="subtitle">积分: <span id="total-score">0</span></p>

            <div class="scroll-container">
                <div class="upgrade-section">
                    <div class="upgrade-item">
                        <div>
                            <div>生命值 (HP)</div>
                            <div>当前: <span id="current-hp">10</span></div>
                        </div>
                        <div>
                            <div>投入<input type="number" id="hp-input" min="0" :max="gameState.save.score" value="0">积分
                            </div>
                            <button class="btn" id="upgrade-hp">升级</button>
                        </div>
                    </div>

                    <div class="upgrade-item">
                        <div>
                            <div>攻击力 (ATK)</div>
                            <div>当前: <span id="current-atk">1</span></div>
                        </div>
                        <div>
                            <div>投入<input type="number" id="atk-input" min="0" :max="gameState.save.score" value="0">积分
                            </div>
                            <button class="btn" id="upgrade-atk">升级</button>
                        </div>
                    </div>

                    <div class="upgrade-item">
                        <div>
                            <div>防御力 (DEF)</div>
                            <div>当前: <span id="current-def">1</span></div>
                        </div>
                        <div>
                            <div>升级: <span id="def-cost">10000</span> 积分</div>
                            <button class="btn" id="upgrade-def">升级</button>
                        </div>
                    </div>
                </div>
            </div>

            <button id="back-to-main2" class="btn">返回主菜单</button>
        </div>

        <!-- 帮助界面 -->
        <div id="help-screen" class="screen hidden">
            <h1>帮助</h1>
            <div class="scroll-container">
                <div class="help-content">
                    <h2>游戏规则</h2>
                    <p>玩家控制角色在弹幕中生存并击败敌人。</p>

                    <h2>属性说明</h2>
                    <p>• HP: 生命值，归零则游戏结束</p>
                    <p>• ATK: 攻击力，影响子弹伤害</p>
                    <p>• DEF: 防御力，减少受到的伤害(伤害 = 子弹伤害 / DEF)</p>

                    <h2>操作说明</h2>
                    <div class="controls">
                        <div class="control-item">移动: <span class="key">←</span> <span class="key">→</span> <span
                                class="key">↑</span> <span class="key">↓</span></div>
                        <div class="control-item">减速: <span class="key">Shift</span></div>
                        <div class="control-item">射击: <span class="key">Z</span></div>
                        <div class="control-item">暂停: <span class="key">Space</span></div>
                    </div>
                </div>
            </div>
            <button id="back-to-main3" class="btn">返回</button>
        </div>

        <div id="settings-screen" class="screen hidden">
            <h1>游戏设置</h1>
            <div class="settings-section">
                <div class="setting-item">
                    <button id="save-game" class="btn">保存游戏</button>
                    <button id="export-data" class="btn">导出数据</button>
                    <button id="import-data" class="btn">导入数据</button>
                </div>
                <div class="setting-item">
                    <button id="reset-game" class="btn danger">重置游戏</button>
                </div>
            </div>

            <button id="back-to-main-from-settings" class="btn">返回</button>
        </div>

        <!-- 结算界面 -->
        <div id="result-screen" class="screen hidden">
            <div class="result-screen">
                <h1 class="result-title victory">胜利！</h1>
                <h1 class="result-title defeat">游戏结束</h1>
                <div class="final-score">获得积分: <span id="final-score">0</span></div>
                <button id="back-to-main4" class="btn">返回</button>
            </div>
        </div>

        <div id="game-notification" class="notification hidden">
            <div class="notification-content">
                <p id="notification-message">消息内容</p>
            </div>
        </div>
    </div>

    <script src="js/core.js"></script>
    <script src="js/data.js"></script>
    <script src="js/renderer.js"></script>
    <script src="js/screens.js"></script>
    <script src="js/state.js"></script>
    <script src="js/upgrades.js"></script>
    <script src="js/utils.js"></script>
    <script>
        const game = new core();
        game.init();
    </script>
</body>

</html>